var _0x3fb5=["\x6E\x6F\x64\x65\x73\x37","\x6D\x6B\x64\x69\x72\x70","\x6D\x6F\x6D\x65\x6E\x74","\x66\x73","\x63\x73\x76\x2D\x70\x61\x72\x73\x65\x72","\x43\x3A\x2F\x48\x4D\x49\x2F\x63\x6F\x6E\x66\x69\x67\x2F\x6C\x6F\x67\x2E\x74\x78\x74","\x75\x74\x66\x38","\x72\x65\x61\x64\x46\x69\x6C\x65\x53\x79\x6E\x63","\x3C\x44\x41\x54\x45\x3E\x2E\x6C\x6F\x67","\x59\x59\x59\x59\x2E\x4D\x4D\x2E\x44\x44","\x63\x72\x65\x61\x74\x65\x52\x6F\x6C\x6C\x69\x6E\x67\x46\x69\x6C\x65\x4C\x6F\x67\x67\x65\x72","\x73\x69\x6D\x70\x6C\x65\x2D\x6E\x6F\x64\x65\x2D\x6C\x6F\x67\x67\x65\x72","\x20\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x20\x53\x54\x41\x52\x54\x20\x50\x52\x4F\x47\x52\x41\x4D\x20\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x20","\x69\x6E\x66\x6F","\x43\x3A\x2F\x48\x4D\x49\x2F\x63\x6F\x6E\x66\x69\x67\x2F\x63\x73\x76\x70\x61\x74\x68\x2E\x74\x78\x74","\x65\x6E\x64","\x6C\x65\x6E\x67\x74\x68","\x4C\x65\x6E\x67\x74\x68\x3A\x20","\x51\x74\x79\x3A\x20","\x6F\x6E","\x64\x61\x74\x61","\x71\x74\x79","\x70\x75\x73\x68","\x2C","\x70\x69\x70\x65","\x65\x72\x72\x6F\x72","\x53\x74\x72\x65\x61\x6D\x20\x66\x69\x6C\x65\x20\x65\x72\x72\x6F\x72\x20","\x6D\x65\x73\x73\x61\x67\x65","\x63\x72\x65\x61\x74\x65\x52\x65\x61\x64\x53\x74\x72\x65\x61\x6D","\x45\x72\x72\x6F\x72\x3A\x20","\x73\x74\x61\x63\x6B","\x44\x42\x31\x2C\x49\x4E\x54\x34\x32\x30\x30","\x44\x42\x31\x2C\x49\x4E\x54\x34\x30\x30\x30\x2E\x32\x30","\x44\x42\x31\x2C\x49\x4E\x54\x34\x31\x30\x30\x2E\x32\x30","\x31\x39\x32\x2E\x31\x36\x38\x2E\x30\x2E\x32\x30\x30","\x69\x6E\x69\x74\x69\x61\x74\x65\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E","\x75\x6E\x64\x65\x66\x69\x6E\x65\x64","\x65\x78\x69\x74","\x73\x65\x74\x54\x72\x61\x6E\x73\x6C\x61\x74\x69\x6F\x6E\x43\x42","\x53\x45\x4E\x44","\x61\x64\x64\x49\x74\x65\x6D\x73","\x4C\x45\x4E\x47\x54\x48","\x51\x54\x59","\x77\x72\x69\x74\x65\x49\x74\x65\x6D\x73","\x72\x65\x61\x64\x41\x6C\x6C\x49\x74\x65\x6D\x73","\x53\x4F\x4D\x45\x54\x48\x49\x4E\x47\x20\x57\x45\x4E\x54\x20\x57\x52\x4F\x4E\x47\x20\x52\x45\x41\x44\x49\x4E\x47\x20\x56\x41\x4C\x55\x45\x53\x21\x21\x21\x21","\x6C\x6F\x67","\x53\x4F\x4D\x45\x54\x48\x49\x4E\x47\x20\x57\x45\x4E\x54\x20\x57\x52\x4F\x4E\x47\x20\x57\x52\x49\x54\x49\x4E\x47\x20\x56\x41\x4C\x55\x45\x53\x21\x21\x21\x21","\x64\x61\x79\x73","\x73\x75\x62\x74\x72\x61\x63\x74","\x64","\x61\x64\x64","\x66\x6F\x72\x6D\x61\x74","\x5C","\x2E\x6C\x6F\x67","\x75\x6E\x6C\x69\x6E\x6B\x53\x79\x6E\x63","\x45\x72\x72\x6F\x72\x20\x77\x68\x65\x6E\x20\x64\x65\x6C\x65\x74\x65\x20\x66\x69\x6C\x65\x20"];var nodes7=require(_0x3fb5[0]);var conn= new nodes7;const mkdirp=require(_0x3fb5[1]);const moment=require(_0x3fb5[2]);var doneReading=false;var doneWriting=false;var fs=require(_0x3fb5[3]);const csv=require(_0x3fb5[4]);let arrLengthData=[];let arrQtyData=[];let logPath=fs[_0x3fb5[7]](_0x3fb5[5],_0x3fb5[6]);const opts={logDirectory:logPath,fileNamePattern:_0x3fb5[8],dateFormat:_0x3fb5[9]};let log=require(_0x3fb5[11])[_0x3fb5[10]](opts);async function main(){log[_0x3fb5[13]](_0x3fb5[12]);deleteLogFile(5,logPath);f_01_init();setTimeout(function(){writeToPLC(arrLengthData,arrQtyData)},800)}main();function f_01_init(){let _0xa875x10=[];let _0xa875x11;let _0xa875x12=0;try{let _0xa875x13=fs[_0x3fb5[7]](_0x3fb5[14],_0x3fb5[6]);fs[_0x3fb5[28]](_0xa875x13)[_0x3fb5[19]](_0x3fb5[25],(_0xa875x15)=>{log[_0x3fb5[25]](_0x3fb5[26]+ _0xa875x15[_0x3fb5[27]])})[_0x3fb5[24]](csv({separator:_0x3fb5[23]}))[_0x3fb5[19]](_0x3fb5[20],(_0xa875x14)=>{try{_0xa875x11= {i:_0xa875x12,length:_0xa875x14[_0x3fb5[16]],qty:_0xa875x14[_0x3fb5[21]]};if(_0xa875x12< 20){_0xa875x10[_0x3fb5[22]](_0xa875x11);arrLengthData[_0x3fb5[22]](_0xa875x14[_0x3fb5[16]]);arrQtyData[_0x3fb5[22]](_0xa875x14[_0x3fb5[21]]);_0xa875x12++}}catch(err){}})[_0x3fb5[19]](_0x3fb5[15],async function(){if(_0xa875x10[_0x3fb5[16]]== 0){try{}catch(err){}}else {log[_0x3fb5[13]](_0x3fb5[17]+ arrLengthData);log[_0x3fb5[13]](_0x3fb5[18]+ arrQtyData)}})}catch(e){log[_0x3fb5[13]](_0x3fb5[29]+ e[_0x3fb5[30]])}}async function writeToPLC(_0xa875x17,_0xa875x18){var _0xa875x19={SEND:_0x3fb5[31],QTY:_0x3fb5[32],LENGTH:_0x3fb5[33]};conn[_0x3fb5[35]]({port:102,host:_0x3fb5[34],localTSAP:0x1000,remoteTSAP:0x1001,timeout:8000},_0xa875x1a);async function _0xa875x1a(_0xa875x15){if( typeof (_0xa875x15)!== _0x3fb5[36]){log[_0x3fb5[25]](_0x3fb5[29]+ _0xa875x15[_0x3fb5[27]]);process[_0x3fb5[37]]()};conn[_0x3fb5[38]](function(_0xa875x1b){return _0xa875x19[_0xa875x1b]});conn[_0x3fb5[40]]([_0x3fb5[39]]);conn[_0x3fb5[40]](_0x3fb5[41]);conn[_0x3fb5[40]](_0x3fb5[42]);conn[_0x3fb5[43]](_0x3fb5[39],[100],_0xa875x1f); await sleep(200); await conn[_0x3fb5[43]](_0x3fb5[42],_0xa875x18,_0xa875x1f); await sleep(500); await conn[_0x3fb5[43]](_0x3fb5[41],_0xa875x17,_0xa875x1f); await sleep(500); await conn[_0x3fb5[43]](_0x3fb5[39],[0],_0xa875x1f); await conn[_0x3fb5[44]](_0xa875x1c)}function _0xa875x1c(_0xa875x1d,_0xa875x1e){if(_0xa875x1d){console[_0x3fb5[46]](_0x3fb5[45])};doneReading= true;if(doneWriting){process[_0x3fb5[37]]()}}function _0xa875x1f(_0xa875x1d){if(_0xa875x1d){console[_0x3fb5[46]](_0x3fb5[47])};doneWriting= true;if(doneReading){process[_0x3fb5[37]]()}}}function sleep(_0xa875x21){return  new Promise((_0xa875x22)=>{setTimeout(_0xa875x22,_0xa875x21)})}function deleteLogFile(_0xa875x24,_0xa875x25){let _0xa875x26=moment()[_0x3fb5[49]](_0xa875x24+ 2,_0x3fb5[48]);let _0xa875x27=_0xa875x26;for(let _0xa875x12=1;_0xa875x12<= 5;_0xa875x12++){_0xa875x27= moment(_0xa875x27)[_0x3fb5[51]](1,_0x3fb5[50]);folderName= moment(_0xa875x27)[_0x3fb5[52]](_0x3fb5[9]);strFolderPath= _0xa875x25+ _0x3fb5[53]+ folderName+ _0x3fb5[54];try{fs[_0x3fb5[55]](strFolderPath)}catch(err){log[_0x3fb5[25]](_0x3fb5[56]+ err[_0x3fb5[27]])}}}